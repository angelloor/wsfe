<div class="flex flex-col w-full">
    <!-- View mode -->
    <ng-container *ngIf="!editMode">
        <!-- Header -->
        <div class="relative w-full h-40 flex items-center bg-accent-100 dark:bg-accent-700 place-content-center">
            <!-- Background -->
            <!-- Light version -->
            <img class="dark:hidden absolute inset-0 object-cover w-full h-full" src="assets/images/background.svg">
            <!-- Dark version -->
            <img class="hidden dark:flex absolute inset-0 object-cover w-full h-full"
                src="assets/images/background-on-dark.svg">
            <div class="absolute w-full h-40 bg-black inset-0 opacity-0">
            </div>
            <h1 class="absolute z-20 text-dark text-3xl">{{nameEntity}}</h1>
            <!-- Close button -->
            <div class="absolute z-20 top-6 right-6">
                <button mat-icon-button [matTooltip]="'Cerrar'" [routerLink]="['../']">
                    <mat-icon class="text-gray" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                </button>
            </div>
        </div>
        <!-- Entity -->
        <div class="relative flex flex-col flex-auto items-center p-6 pt-0 sm:p-12 sm:pt-0">
            <div class="w-full max-w-3xl">

                <!-- Avatar and actions -->
                <div class="flex flex-auto items-end -mt-16">
                    <!-- Avatar -->
                    <div
                        class="flex items-center justify-center w-32 h-32 rounded-full overflow-hidden ring-4 ring-bg-card">
                        <img class="object-cover w-full h-full" *ngIf="taxpayer.user.avatar_user"
                            [src]="_urlPathAvatar+taxpayer.user.avatar_user">
                        <div class="flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200"
                            *ngIf="!taxpayer.user.avatar_user">
                            {{taxpayer.user.person.name_person.charAt(0)}}
                        </div>
                    </div>
                    <!-- Actions -->
                    <div class="flex items-center ml-auto mb-1">
                        <!-- Button -->
                        <button class="mr-2" mat-flat-button [color]="'primary'" [disabled]="taxpayerForm.invalid"
                            [matTooltip]="'Guardar'" [matMenuTriggerFor]="userActions">
                            <span class="relative">
                                Opciones
                            </span>
                        </button>

                        <mat-menu [xPosition]="'before'" #userActions="matMenu">
                            <button mat-menu-item (click)="openModalInstitutions()">
                                <mat-icon [svgIcon]="'heroicons_outline:briefcase'"></mat-icon>
                                <span>Instituciones</span>
                            </button>
                            <!-- <mat-divider class="my-2"></mat-divider> -->
                            <button mat-menu-item (click)="openModalEstablishments()">
                                <mat-icon [svgIcon]="'heroicons_outline:office-building'"></mat-icon>
                                <span>Establecimientos</span>
                            </button>
                            <button mat-menu-item (click)="openModalEmissionPoints()">
                                <mat-icon [svgIcon]="'heroicons_outline:printer'"></mat-icon>
                                <span>Puntos de emisión</span>
                            </button>

                            <button mat-menu-item (click)="openModalSettingTaxpayer()">
                                <mat-icon [svgIcon]="'heroicons_outline:cog'"></mat-icon>
                                <span>Configuración</span>
                            </button>
                        </mat-menu>
                        <button mat-stroked-button (click)="toggleEditMode(true)">
                            <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:pencil-alt'"></mat-icon>
                            <span class="ml-1">Editar</span>
                        </button>
                    </div>
                </div>
                <div class="flex flex-col mt-4 pt-6 space-y-8">
                    <!-- status_by_batch_taxpayer -->
                    <ng-container>
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:status-online'"></mat-icon>
                            <div *ngIf="taxpayer.status_by_batch_taxpayer"
                                class="ml-6 mt-1 w-3 h-3 bg-green-700 rounded-full">
                            </div>
                            <div *ngIf="!taxpayer.status_by_batch_taxpayer"
                                class="ml-6 mt-1 w-3 h-3 bg-red-600 rounded-full">
                            </div>
                        </div>
                    </ng-container>
                    <!-- business_name_taxpayer -->
                    <ng-container *ngIf="taxpayer.business_name_taxpayer">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:office-building'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.business_name_taxpayer}}</div>
                        </div>
                    </ng-container> <!-- tradename_taxpayer -->
                    <ng-container *ngIf="taxpayer.tradename_taxpayer">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:identification'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.tradename_taxpayer}}</div>
                        </div>
                    </ng-container> <!-- ruc_taxpayer -->
                    <ng-container *ngIf="taxpayer.ruc_taxpayer">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:hashtag'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.ruc_taxpayer}}</div>
                        </div>
                    </ng-container><!-- dir_matriz_taxpayer -->
                    <ng-container *ngIf="taxpayer.dir_matriz_taxpayer">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:location-marker'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.dir_matriz_taxpayer}}</div>
                        </div>
                    </ng-container> <!-- status_taxpayer -->
                    <ng-container>
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:status-online'"></mat-icon>
                            <div *ngIf="taxpayer.status_taxpayer" class="ml-6 mt-1 w-3 h-3 bg-green-700 rounded-full">
                            </div>
                            <div *ngIf="!taxpayer.status_taxpayer" class="ml-6 mt-1 w-3 h-3 bg-red-600 rounded-full">
                            </div>
                        </div>
                    </ng-container> <!-- accounting_obliged -->
                    <ng-container *ngIf="taxpayer.accounting_obliged">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:credit-card'"></mat-icon>
                            <div class="ml-6 leading-6">{{typeSelectAccountingObliged.name_type}}</div>
                        </div>
                    </ng-container>
                    <!-- type_emission -->
                    <!-- Type Enum -->
                    <ng-container *ngIf="taxpayer.type_emission">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'mat_outline:category'"></mat-icon>
                            <div class="ml-6 leading-6">{{typeSelectEmission.name_type}}</div>
                        </div>
                    </ng-container>
                    <!-- id_company -->
                    <ng-container *ngIf="taxpayer.company.id_company">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:office-building'"></mat-icon>
                            <div class="ml-6 leading-6">{{selectedCompany.name_company}}</div>
                        </div>
                    </ng-container>

                    <!-- name_user -->
                    <ng-container *ngIf="taxpayer.user.name_user">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:mail'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.name_user}}</div>
                        </div>
                    </ng-container> <!-- password_user -->
                    <ng-container *ngIf="aesDecrypt(taxpayer.user.password_user)">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'mat_outline:password'"></mat-icon>
                            <div class="ml-6 leading-6">{{aesDecrypt(taxpayer.user.password_user)}}</div>
                        </div>
                    </ng-container>
                    <!-- status_user -->
                    <ng-container>
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:status-online'"></mat-icon>
                            <div *ngIf="taxpayer.user.status_user" class="ml-6 mt-1 w-3 h-3 bg-green-700 rounded-full">
                            </div>
                            <div *ngIf="!taxpayer.user.status_user" class="ml-6 mt-1 w-3 h-3 bg-red-600 rounded-full">
                            </div>
                        </div>
                    </ng-container>
                    <!-- name_profile -->
                    <ng-container *ngIf="selectedTypeUser &&  selectedTypeUser.name_type_user">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:user-group'"></mat-icon>
                            <div class="ml-6 leading-6">{{selectedTypeUser.name_type_user}}</div>
                        </div>
                    </ng-container>

                    <!-- dni_person -->
                    <ng-container *ngIf="taxpayer.user.person.dni_person">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:hashtag'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.dni_person}}</div>
                        </div>
                    </ng-container> <!-- name_person -->
                    <ng-container *ngIf="taxpayer.user.person.name_person">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:identification'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.name_person}}</div>
                        </div>
                    </ng-container> <!-- last_name_person -->
                    <ng-container *ngIf="taxpayer.user.person.last_name_person">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:identification'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.last_name_person}}</div>
                        </div>
                    </ng-container> <!-- address_person -->
                    <ng-container *ngIf="taxpayer.user.person.address_person">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:location-marker'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.address_person}}</div>
                        </div>
                    </ng-container> <!-- phone_person -->
                    <ng-container *ngIf="taxpayer.user.person.phone_person">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:phone'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.phone_person}}</div>
                        </div>
                    </ng-container>

                    <!-- title_academic -->
                    <ng-container *ngIf="taxpayer.user.person.academic.title_academic">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:academic-cap'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.academic.title_academic}}</div>
                        </div>
                    </ng-container> <!-- abbreviation_academic -->
                    <ng-container *ngIf="taxpayer.user.person.academic.abbreviation_academic">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'mat_outline:short_text'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.academic.abbreviation_academic}}</div>
                        </div>
                    </ng-container> <!-- nivel_academic -->
                    <ng-container *ngIf="taxpayer.user.person.academic.nivel_academic">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:menu-alt-2'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.academic.nivel_academic}}</div>
                        </div>
                    </ng-container>

                    <!-- name_job -->
                    <ng-container *ngIf="taxpayer.user.person.job.name_job">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:office-building'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.job.name_job}}</div>
                        </div>
                    </ng-container> <!-- address_job -->
                    <ng-container *ngIf="taxpayer.user.person.job.address_job">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:location-marker'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.job.address_job}}</div>
                        </div>
                    </ng-container> <!-- phone_job -->
                    <ng-container *ngIf="taxpayer.user.person.job.phone_job">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:phone'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.job.phone_job}}</div>
                        </div>
                    </ng-container> <!-- position_job -->
                    <ng-container *ngIf="taxpayer.user.person.job.position_job">
                        <div class="flex sm:items-center">
                            <mat-icon [svgIcon]="'heroicons_outline:collection'"></mat-icon>
                            <div class="ml-6 leading-6">{{taxpayer.user.person.job.position_job}}</div>
                        </div>
                    </ng-container>
                </div>
            </div>
        </div>
    </ng-container>

    <!-- Edit mode -->
    <ng-container *ngIf="editMode">
        <!-- Header -->
        <div class="relative w-full h-40 flex items-center bg-accent-100 dark:bg-accent-700 place-content-center">
            <!-- Background -->
            <!-- Light version -->
            <img class="dark:hidden absolute inset-0 object-cover w-full h-full" src="assets/images/background.svg">
            <!-- Dark version -->
            <img class="hidden dark:flex absolute inset-0 object-cover w-full h-full"
                src="assets/images/background-on-dark.svg">
            <div class="absolute w-full h-40 bg-black inset-0 opacity-0">
            </div>
            <h1 class="absolute z-20 text-dark text-3xl">{{nameEntity}}</h1>
            <!-- Close button -->
            <div class="absolute z-20 top-6 right-6">
                <button mat-icon-button [matTooltip]="'Cerrar'" [routerLink]="['../']">
                    <mat-icon class="text-gray" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                </button>
            </div>
        </div>
        <!-- form -->
        <div class="relative flex flex-col flex-auto items-center px-6 sm:px-12">
            <div class="w-full max-w-3xl">
                <!-- Avatar -->
                <div class="flex flex-auto items-end -mt-16">
                    <div
                        class="relative flex items-center justify-center w-32 h-32 rounded-full overflow-hidden ring-4 ring-bg-card">
                        <!-- Upload / Remove avatar -->
                        <div class="absolute inset-0 bg-black bg-opacity-50 z-10"></div>
                        <div class="absolute inset-0 flex items-center justify-center z-20">
                            <div>
                                <input id="avatar-file-input"
                                    class="absolute h-0 w-0 opacity-0 invisible pointer-events-none" type="file"
                                    [multiple]="false" [accept]="'image/jpeg, image/png'"
                                    (change)="uploadAvatar(avatarFileInput.files!, taxpayer.user)" #avatarFileInput>
                                <label
                                    class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer hover:bg-hover"
                                    for="avatar-file-input" matRipple>
                                    <mat-icon class="text-white" [svgIcon]="'heroicons_outline:camera'"></mat-icon>
                                </label>
                            </div>
                            <div>
                                <button mat-icon-button (click)="removeAvatar(taxpayer.user)">
                                    <mat-icon class="text-white" [svgIcon]="'heroicons_outline:trash'"></mat-icon>
                                </button>
                            </div>
                        </div>
                        <!-- Image/Letter -->
                        <img class="object-cover w-full h-full" *ngIf="taxpayer.user.avatar_user"
                            [src]="_urlPathAvatar+taxpayer.user.avatar_user">
                        <div class="flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200"
                            *ngIf="!taxpayer.user.avatar_user">
                            {{taxpayer.user.person.name_person.charAt(0)}}
                        </div>
                    </div>
                    <!-- Actions -->
                    <div class="flex items-center ml-auto mb-1">
                        <!-- Save -->
                        <button mat-flat-button [color]="'primary'" [disabled]="taxpayerForm.invalid"
                            [matTooltip]="'Guardar'" (click)="updateTaxpayer()">
                            Guardar
                        </button>
                        <!-- Delete -->
                        <button mat-stroked-button class="ml-2" [color]="'warn'" [matTooltip]="'Eliminar'"
                            (click)="deleteTaxpayer()">
                            Eliminar
                        </button>
                        <!-- Cancel -->
                        <button mat-stroked-button class="ml-2 mr-2" [matTooltip]="'Cancelar'"
                            (click)="toggleEditMode(false)">
                            Cancelar
                        </button>
                    </div>
                </div>
                <form [formGroup]="taxpayerForm" class="mb-8">
                    <!-- Alert -->
                    <angel-alert class="mt-8" *ngIf="taxpayerForm.invalid || showAlert" [appearance]="'outline'"
                        [showIcon]="false" [type]="alert.type" [@shake]="alert.type === 'error'">
                        <!-- MessageAPI if alert is actived for the component -->
                        {{alert.message}}
                        <!-- type_emission -->
                        <mat-error *ngIf="taxpayerForm.get('type_emission')?.hasError('required')">
                            • Ingrese el tipo de emisión
                        </mat-error>
                        <!-- business_name_taxpayer -->
                        <mat-error *ngIf="taxpayerForm.get('business_name_taxpayer')?.hasError('required')">
                            • Ingrese la razón social
                        </mat-error>
                        <!-- tradename_taxpayer -->
                        <mat-error *ngIf="taxpayerForm.get('tradename_taxpayer')?.hasError('required')">
                            • Ingrese el nombre comercial
                        </mat-error>
                        <!-- ruc_taxpayer -->
                        <mat-error *ngIf="taxpayerForm.get('ruc_taxpayer')?.hasError('required')">
                            • Ingrese el ruc
                        </mat-error>
                        <!-- dir_matriz_taxpayer -->
                        <mat-error *ngIf="taxpayerForm.get('dir_matriz_taxpayer')?.hasError('required')">
                            • Ingrese el ruc
                        </mat-error>
                        <!-- signature_password_taxpayer -->
                        <mat-error *ngIf="taxpayerForm.get('signature_password_taxpayer')?.hasError('required')">
                            • Ingrese la contraseña de la firma
                        </mat-error>
                        <!-- signature_path_taxpayer -->
                        <mat-error *ngIf="taxpayerForm.get('signature_path_taxpayer')?.hasError('required')">
                            • Suba la firma electrónica
                        </mat-error>
                        <!-- status_taxpayer -->
                        <mat-error *ngIf="taxpayerForm.get('status_taxpayer')?.hasError('required')">
                            • Seleccione el estado del contribuyente
                        </mat-error>
                        <!-- accounting_obliged -->
                        <mat-error *ngIf="taxpayerForm.get('accounting_obliged')?.hasError('required')">
                            • Seleccione la obligación tributaria
                        </mat-error>

                        <!-- name_user -->
                        <mat-error *ngIf="taxpayerForm.get('name_user')?.hasError('required')">
                            • Ingrese el correo del usuario
                        </mat-error>
                        <mat-error *ngIf="taxpayerForm.get('name_user')?.hasError('email')">
                            • Ingrese un correo electrónico valido
                        </mat-error>
                        <!-- password_user -->
                        <mat-error *ngIf="taxpayerForm.get('password_user')?.hasError('required')">
                            • Ingrese la contraseña del usuario
                        </mat-error>
                        <ng-container *ngIf="validationPassword.type_validation == 'validationPassword'">
                            <mat-error *ngIf="taxpayerForm.get('password_user')?.hasError('pattern')">
                                • {{validationPassword.message_validation}}
                            </mat-error>
                        </ng-container>
                        <!-- status_user -->
                        <mat-error *ngIf="taxpayerForm.get('status_user')?.hasError('required')">
                            • Seleccione el estado del usuario
                        </mat-error>
                        <!-- id_company -->
                        <mat-error *ngIf="taxpayerForm.get('id_company')?.hasError('required')">
                            • Seleccione la empresa a la cual formara parte este usuario
                        </mat-error>
                        <!-- id_profile -->
                        <mat-error *ngIf="taxpayerForm.get('id_profile')?.hasError('required')">
                            • Seleccione el perfil de usuario
                        </mat-error>
                        <!-- dni_person -->
                        <mat-error *ngIf="taxpayerForm.get('dni_person')?.hasError('required')">
                            • Ingrese el número de cedula
                        </mat-error>
                        <ng-container *ngIf="validationDNI.type_validation == 'validationDNI'">
                            <mat-error *ngIf="taxpayerForm.get('dni_person')?.hasError('pattern')">
                                • {{validationDNI.message_validation}}
                            </mat-error>
                        </ng-container>
                        <!-- name_person -->
                        <mat-error *ngIf="taxpayerForm.get('name_person')?.hasError('required')">
                            • Ingrese los nombres de la persona
                        </mat-error>
                        <!-- last_name_person -->
                        <mat-error *ngIf="taxpayerForm.get('last_name_person')?.hasError('required')">
                            • Ingrese los apellidos de la persona
                        </mat-error>
                        <!-- address_person -->
                        <mat-error *ngIf="taxpayerForm.get('address_person')?.hasError('required')">
                            • Ingrese la dirección de la persona
                        </mat-error>
                        <!-- phone_person -->
                        <mat-error *ngIf="taxpayerForm.get('phone_person')?.hasError('required')">
                            • Ingrese el teléfono de la persona
                        </mat-error>
                        <ng-container *ngIf="validationPhoneNumber.type_validation == 'validationPhoneNumber'">
                            <mat-error *ngIf="taxpayerForm.get('phone_person')?.hasError('pattern')">
                                • {{validationPhoneNumber.message_validation}}
                            </mat-error>
                        </ng-container>
                        <!-- title_academic -->
                        <mat-error *ngIf="taxpayerForm.get('title_academic')?.hasError('required')">
                            • Ingrese el titulo académico de la persona
                        </mat-error>
                        <!-- abbreviation_academic -->
                        <mat-error *ngIf="taxpayerForm.get('abbreviation_academic')?.hasError('required')">
                            • Ingrese la abreviación del titulo académico
                        </mat-error>
                        <!-- nivel_academic -->
                        <mat-error *ngIf="taxpayerForm.get('nivel_academic')?.hasError('required')">
                            • Ingrese el nvel académico
                        </mat-error>
                        <!-- name_job -->
                        <mat-error *ngIf="taxpayerForm.get('name_job')?.hasError('required')">
                            • Ingrese nombre del trabajo
                        </mat-error>
                        <!-- address_job -->
                        <mat-error *ngIf="taxpayerForm.get('address_job')?.hasError('required')">
                            • Ingrese la dirección del trabajo
                        </mat-error>
                        <!-- phone_job -->
                        <mat-error *ngIf="taxpayerForm.get('phone_job')?.hasError('required')">
                            • Ingrese el número de teléfono del trabajo
                        </mat-error>
                        <ng-container *ngIf="validationPhoneNumber.type_validation == 'validationPhoneNumber'">
                            <mat-error *ngIf="taxpayerForm.get('phone_job')?.hasError('pattern')">
                                • {{validationPhoneNumber.message_validation}}
                            </mat-error>
                        </ng-container>
                        <!-- position_job -->
                        <mat-error *ngIf="taxpayerForm.get('position_job')?.hasError('required')">
                            • Ingrese el cargo del trabajo
                        </mat-error>
                    </angel-alert>
                    <!-- Alert -->
                    <!-- status_by_batch_taxpayer -->
                    <mat-slide-toggle class="mt-8" [formControlName]="'status_by_batch_taxpayer'"
                        (change)="changeStatusByBatchTaxpayer()" [color]="'primary'">
                        Estado del envío por lote
                    </mat-slide-toggle>
                    <!-- signature_path_taxpayer -->
                    <div class="mt-8">
                        <div class="text-base mb-1">Firma electrónica *</div>
                        <ng-container>
                            <mat-form-field appearance="outline" class="w-full">
                                <ngx-mat-file-input #removableInput formControlName="{{'removablefileInitial'}}"
                                    (change)="removableInput.setDisabledState(true); uploadSignature( $event.target); removableInput.clear($event);"
                                    [accept]="'.p12'" (value)="removableInput">
                                </ngx-mat-file-input>
                                <mat-icon *ngIf="removableInput.empty" matSuffix>upload</mat-icon>
                                <button mat-icon-button matSuffix *ngIf="!removableInput.empty"
                                    (click)="removableInput.setDisabledState(true); downloadSignature()">
                                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:download'"></mat-icon>
                                </button>
                                <button mat-icon-button matSuffix *ngIf="!removableInput.empty" [disabled]="false"
                                    (click)="removableInput.clear($event); removableInput.setDisabledState(false); deleteSignature();">
                                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:trash'">
                                    </mat-icon>
                                </button>
                            </mat-form-field>
                        </ng-container>
                    </div>
                    <!-- signature_password_taxpayer -->
                    <div class="mt-2">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Contraseña de la firma</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5" [svgIcon]="'mat_solid:password'">
                            </mat-icon>
                            <input matInput maxlength="250" [formControlName]="'signature_password_taxpayer'"
                                [placeholder]="'Ingrese la contraseña de la firma'" [spellcheck]="false">
                        </mat-form-field>
                    </div>
                    <!-- business_name_taxpayer -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Razón social</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:office-building'">
                            </mat-icon>
                            <input matInput maxlength="300" [formControlName]="'business_name_taxpayer'"
                                [placeholder]="'Ingrese la razón social'" [spellcheck]="true">
                        </mat-form-field>
                    </div> <!-- tradename_taxpayer -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Nombre comercial</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:identification'">
                            </mat-icon>
                            <input matInput maxlength="300" [formControlName]="'tradename_taxpayer'"
                                [placeholder]="'Ingrese el nombre comercial'" [spellcheck]="false">
                        </mat-form-field>
                    </div> <!-- ruc_taxpayer -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Ruc</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:hashtag'">
                            </mat-icon>
                            <input matInput maxlength="13" [formControlName]="'ruc_taxpayer'"
                                [placeholder]="'Ingrese el ruc'" [spellcheck]="false">
                        </mat-form-field>
                    </div> <!-- dir_matriz_taxpayer -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Dirección matriz</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:location-marker'">
                            </mat-icon>
                            <input matInput maxlength="300" [formControlName]="'dir_matriz_taxpayer'"
                                [placeholder]="'Ingrese la dirección matriz de su negocio'" [spellcheck]="true">
                        </mat-form-field>
                    </div>
                    <!-- status_taxpayer -->
                    <div class="mt-4">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Estado del contribuyente</mat-label>
                            <mat-select [formControlName]="'status_taxpayer'">
                                <mat-option [value]="true">Activo</mat-option>
                                <mat-option [value]="false">Inactivo</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div> <!-- type_emission -->
                    <!-- Type Enum -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Tipo de Emisión</mat-label>
                            <mat-select [formControlName]="'type_emission'">
                                <ng-container *ngFor="let type of typeEmission">
                                    <mat-option [value]="type.value_type">
                                        {{type.name_type}}</mat-option>
                                </ng-container>
                            </mat-select>
                        </mat-form-field>
                    </div> <!-- accounting_obliged -->
                    <!-- Type Enum -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Obligación tributaria</mat-label>
                            <mat-select [formControlName]="'accounting_obliged'">
                                <ng-container *ngFor="let type of typeAccountingObliged">
                                    <mat-option [value]="type.value_type">
                                        {{type.name_type}}</mat-option>
                                </ng-container>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <!-- id_company -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Empresa</mat-label>
                            <mat-select [formControlName]="'id_company'" [value]="selectedCompany.id_company">
                                <ng-container *ngFor="let category of categoriesCompany">
                                    <mat-option [value]="category.id_company">
                                        {{category.name_company}}</mat-option>
                                </ng-container>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <!-- name_user -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Correo</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5" [svgIcon]="'heroicons_solid:mail'">
                            </mat-icon>
                            <input matInput maxlength="50" [formControlName]="'name_user'"
                                [placeholder]="'Ingrese el correo'" [spellcheck]="false">
                        </mat-form-field>
                    </div> <!-- password_user -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Contraseña</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5" [svgIcon]="'mat_solid:password'">
                            </mat-icon>
                            <input matInput maxlength="250" [formControlName]="'password_user'"
                                [placeholder]="'Ingrese la contraseña'" [spellcheck]="false">
                        </mat-form-field>
                    </div>
                    <!-- status_user -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Estado del usuario</mat-label>
                            <mat-select [formControlName]="'status_user'">
                                <mat-option [value]="true">Activo</mat-option>
                                <mat-option [value]="false">Inactivo</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <!-- id_type_user -->
                    <div *ngIf="type_profile === 'administator' && categoriesTypeUser.length > 0">
                        <div class="mt-8">
                            <mat-form-field class="angel-mat-no-subscript w-full">
                                <mat-label>Perfil</mat-label>
                                <mat-select [formControlName]="'id_type_user'"
                                    [value]="selectedTypeUser ? selectedTypeUser.id_type_user : false">
                                    <ng-container *ngFor="let category of categoriesTypeUser">
                                        <mat-option [value]="category.id_type_user">
                                            {{category.name_type_user}}</mat-option>
                                    </ng-container>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <!-- dni_person -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Cedula</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:hashtag'">
                            </mat-icon>
                            <input matInput maxlength="20" [formControlName]="'dni_person'" [placeholder]="'dniPerson'"
                                [spellcheck]="false">
                        </mat-form-field>
                    </div> <!-- name_person -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Nombres</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:identification'">
                            </mat-icon>
                            <input matInput maxlength="150" [formControlName]="'name_person'"
                                [placeholder]="'Ingrese los nombres'" [spellcheck]="true">
                        </mat-form-field>
                    </div> <!-- last_name_person -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Apellidos</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:identification'">
                            </mat-icon>
                            <input matInput maxlength="150" [formControlName]="'last_name_person'"
                                [placeholder]="'Ingrese los apellidos'" [spellcheck]="true">
                        </mat-form-field>
                    </div> <!-- address_person -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Dirección</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:location-marker'">
                            </mat-icon>
                            <input matInput maxlength="150" [formControlName]="'address_person'"
                                [placeholder]="'Ingrese la dirección'" [spellcheck]="false">
                        </mat-form-field>
                    </div> <!-- phone_person -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Teléfono</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5" [svgIcon]="'heroicons_solid:phone'">
                            </mat-icon>
                            <input matInput maxlength="13" [formControlName]="'phone_person'"
                                [placeholder]="'Ingrese el teléfono'" [spellcheck]="false">
                        </mat-form-field>
                    </div>

                    <!-- title_academic -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Titulo académico</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:academic-cap'">
                            </mat-icon>
                            <input matInput maxlength="250" [formControlName]="'title_academic'"
                                [placeholder]="'Ingrese el titulo académico'" [spellcheck]="true">
                        </mat-form-field>
                    </div> <!-- abbreviation_academic -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Abreviación del titulo</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5" [svgIcon]="'mat_solid:short_text'">
                            </mat-icon>
                            <input matInput maxlength="50" [formControlName]="'abbreviation_academic'"
                                [placeholder]="'Ingrese la abreviación  del titulo'" [spellcheck]="true">
                        </mat-form-field>
                    </div> <!-- nivel_academic -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Nivel académico</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:menu-alt-2'">
                            </mat-icon>
                            <input matInput maxlength="100" [formControlName]="'nivel_academic'"
                                [placeholder]="'Ingrese el nivel académico'" [spellcheck]="true">
                        </mat-form-field>
                    </div>

                    <!-- name_job -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Nombre del trabajo</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:office-building'">
                            </mat-icon>
                            <input matInput maxlength="200" [formControlName]="'name_job'"
                                [placeholder]="'Ingrese el nombre del trabajo'" [spellcheck]="true">
                        </mat-form-field>
                    </div> <!-- address_job -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Dirección del trabajo</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:location-marker'">
                            </mat-icon>
                            <input matInput maxlength="200" [formControlName]="'address_job'"
                                [placeholder]="'Ingrese la dirección del trabajo'" [spellcheck]="false">
                        </mat-form-field>
                    </div> <!-- phone_job -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Teléfono del trabajo</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5" [svgIcon]="'heroicons_solid:phone'">
                            </mat-icon>
                            <input matInput maxlength="13" [formControlName]="'phone_job'"
                                [placeholder]="'Ingrese el teléfono del trabajo'" [spellcheck]="false">
                        </mat-form-field>
                    </div> <!-- position_job -->
                    <div class="mt-8">
                        <mat-form-field class="angel-mat-no-subscript w-full">
                            <mat-label>Cargo</mat-label>
                            <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                [svgIcon]="'heroicons_solid:collection'">
                            </mat-icon>
                            <input matInput maxlength="150" [formControlName]="'position_job'"
                                [placeholder]="'Ingrese el cargo que desempeña en su trabajo'" [spellcheck]="true">
                        </mat-form-field>
                    </div>
                </form>
            </div>
        </div>
    </ng-container>
</div>